<div class="ui-grid ui-grid-responsive ui-grid-pad ui-fluid">
  <div class="ui-grid-row">

    <div class="ui-grid-col-3"></div>
    <form class="ui-grid-col-6 instance-form-container" [formGroup]="instanceForm">

      <div *ngIf="appliances">
        <label for="appliance">{{ 'APPLIANCE' | translate }}</label>
        <p-selectButton [options]="appliances" formControlName="appliance"></p-selectButton>
      </div>

      <div *ngIf="sites">
        <label for="site">{{ 'SITE' | translate }}</label>
        <p-listbox [options]="sites" formControlName="site"></p-listbox>
      </div>

      <div *ngIf="flavours">
        <label for="flavours">{{ 'FLAVOUR' | translate }}</label>
        <div class="ui-grid-row flavour-listbox-head">
          <div class="ui-grid-col-4"><span>{{ 'FLAVOUR-NAME' | translate }}</span></div>
          <div class="ui-grid-col-4"><span>{{ 'FLAVOUR-CPU' | translate }}</span></div>
          <div class="ui-grid-col-4"><span>{{ 'FLAVOUR-MEMORY' | translate }}</span></div>
        </div>
        <p-listbox [options]="flavours" formControlName="flavour">
          <template let-flavour>
            <div class="ui-helper-clearfix ui-grid-row">
              <div class="ui-grid-col-4"><span>{{flavour.label}}</span></div>
              <div class="ui-grid-col-4"><span>{{flavour.instance.cpu}}</span></div>
              <div class="ui-grid-col-4"><span>{{flavour.instance.memory}}</span></div>
            </div>
          </template>
        </p-listbox>
      </div>

      <div>
        <label for="instance-name">{{ 'INSTANCE-NAME' | translate }}</label>
        <input type="text" pInputText formControlName="name">
      </div>

      <div>
        <label for="public-ssh-key">{{ 'PUBLIC-SSH-KEY' | translate }}</label>
        <textarea rows="5" pInputTextarea autoResize="autoResize" formControlName="key"></textarea>
      </div>

      <div class="ui-grid-row">
        <button pButton class="gbutton-warning ui-grid-col-6" label="{{ 'BACK' | translate }}" (click)="goBack()"></button>
        <button pButton class="ui-grid-col-6" label="{{ 'SUBMIT' | translate }}" type="submit" [disabled]="!instanceForm.valid" (click)="doSubmit()"></button>
      </div>

    </form>
  </div>
</div>
